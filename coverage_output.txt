
> chat-booking-admin-panel@1.0.0 test:coverage
> jest --coverage

PASS src/app/rooms/__tests__/page.test.tsx
PASS src/app/bookings/__tests__/page.test.tsx
PASS src/components/__tests__/OperatingHoursEditor.test.tsx
PASS src/components/Layout/__tests__/MainLayout.test.tsx
  ‚óè Console

    console.log
      MainLayout rendering. Tenant: { plan: 'PRO', status: 'ACTIVE' }

      at log (src/components/Layout/MainLayout.tsx:361:37)

    console.log
      MainLayout rendering. Tenant: { plan: 'PRO', status: 'ACTIVE' }

      at log (src/components/Layout/MainLayout.tsx:361:37)

    console.log
      MainLayout rendering. Tenant: { plan: 'PRO', status: 'ACTIVE' }

      at log (src/components/Layout/MainLayout.tsx:361:37)

PASS src/components/common/__tests__/UpgradeContent.test.tsx
PASS src/components/__tests__/LanguageSelector.test.tsx
PASS src/components/common/__tests__/ToastContext.test.tsx
  ‚óè Console

    console.error
      Error: Uncaught [Error: useToast must be used within a ToastProvider]
          at reportException (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/@testing-library/react/dist/act-compat.js:46:25
          at renderRoot (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/@testing-library/react/dist/pure.js:189:26)
          at render (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/@testing-library/react/dist/pure.js:291:10)
          at /Users/marioalvarez/repos/conversacion/chat-booking-admin/src/components/common/__tests__/ToastContext.test.tsx:60:28
          at Object.<anonymous> (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/expect/build/index.js:1824:9)
          at Object.throwingMatcher [as toThrow] (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/expect/build/index.js:2235:93)
          at Object.toThrow (/Users/marioalvarez/repos/conversacion/chat-booking-admin/src/components/common/__tests__/ToastContext.test.tsx:60:50)
          at Promise.finally.completed (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at _runTest (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-runner/build/index.js:275:16)
          at runTest (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-runner/build/index.js:343:7) {
        detail: Error: useToast must be used within a ToastProvider
            at useToast (/Users/marioalvarez/repos/conversacion/chat-booking-admin/src/components/common/ToastContext.tsx:15:15)
            at BuggyComponent (/Users/marioalvarez/repos/conversacion/chat-booking-admin/src/components/common/__tests__/ToastContext.test.tsx:56:21)
            at renderWithHooks (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at performConcurrentWorkOnRoot (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
            at flushActQueue (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/@testing-library/react/dist/act-compat.js:46:25
            at renderRoot (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/@testing-library/react/dist/pure.js:189:26)
            at render (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/@testing-library/react/dist/pure.js:291:10)
            at /Users/marioalvarez/repos/conversacion/chat-booking-admin/src/components/common/__tests__/ToastContext.test.tsx:60:28
            at Object.<anonymous> (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/expect/build/index.js:1824:9)
            at Object.throwingMatcher [as toThrow] (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/expect/build/index.js:2235:93)
            at Object.toThrow (/Users/marioalvarez/repos/conversacion/chat-booking-admin/src/components/common/__tests__/ToastContext.test.tsx:60:50)
            at Promise.finally.completed (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at _runTest (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-runner/build/index.js:275:16)
            at runTest (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-runner/build/index.js:343:7),
        type: 'unhandled exception'
      }

      58 |         };
      59 |
    > 60 |         expect(() => render(<BuggyComponent />)).toThrow('useToast must be used within a ToastProvider');
         |                            ^
      61 |
      62 |         consoleSpy.mockRestore();
      63 |     });

      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at src/components/common/__tests__/ToastContext.test.tsx:60:28
      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)
      at Object.toThrow (src/components/common/__tests__/ToastContext.test.tsx:60:50)

    console.error
      Error: Uncaught [Error: useToast must be used within a ToastProvider]
          at reportException (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
          at innerInvokeEventListeners (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
          at invokeEventListeners (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/@testing-library/react/dist/act-compat.js:46:25
          at renderRoot (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/@testing-library/react/dist/pure.js:189:26)
          at render (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/@testing-library/react/dist/pure.js:291:10)
          at /Users/marioalvarez/repos/conversacion/chat-booking-admin/src/components/common/__tests__/ToastContext.test.tsx:60:28
          at Object.<anonymous> (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/expect/build/index.js:1824:9)
          at Object.throwingMatcher [as toThrow] (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/expect/build/index.js:2235:93)
          at Object.toThrow (/Users/marioalvarez/repos/conversacion/chat-booking-admin/src/components/common/__tests__/ToastContext.test.tsx:60:50)
          at Promise.finally.completed (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
          at _callCircusTest (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
          at _runTest (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
          at /Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
          at run (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
          at jestAdapter (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-runner/build/index.js:275:16)
          at runTest (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-runner/build/index.js:343:7) {
        detail: Error: useToast must be used within a ToastProvider
            at useToast (/Users/marioalvarez/repos/conversacion/chat-booking-admin/src/components/common/ToastContext.tsx:15:15)
            at BuggyComponent (/Users/marioalvarez/repos/conversacion/chat-booking-admin/src/components/common/__tests__/ToastContext.test.tsx:56:21)
            at renderWithHooks (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
            at mountIndeterminateComponent (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
            at beginWork (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
            at HTMLUnknownElement.callCallback (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
            at HTMLUnknownElement.callTheUserObjectsOperation (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
            at innerInvokeEventListeners (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
            at invokeEventListeners (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
            at HTMLUnknownElementImpl._dispatch (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
            at HTMLUnknownElementImpl.dispatchEvent (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
            at HTMLUnknownElement.dispatchEvent (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
            at Object.invokeGuardedCallbackDev (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
            at invokeGuardedCallback (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
            at beginWork$1 (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
            at performUnitOfWork (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
            at workLoopSync (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
            at renderRootSync (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
            at recoverFromConcurrentError (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
            at performConcurrentWorkOnRoot (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
            at flushActQueue (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react/cjs/react.development.js:2667:24)
            at act (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/react/cjs/react.development.js:2582:11)
            at /Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/@testing-library/react/dist/act-compat.js:46:25
            at renderRoot (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/@testing-library/react/dist/pure.js:189:26)
            at render (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/@testing-library/react/dist/pure.js:291:10)
            at /Users/marioalvarez/repos/conversacion/chat-booking-admin/src/components/common/__tests__/ToastContext.test.tsx:60:28
            at Object.<anonymous> (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/expect/build/index.js:1824:9)
            at Object.throwingMatcher [as toThrow] (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/expect/build/index.js:2235:93)
            at Object.toThrow (/Users/marioalvarez/repos/conversacion/chat-booking-admin/src/components/common/__tests__/ToastContext.test.tsx:60:50)
            at Promise.finally.completed (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:1557:28)
            at new Promise (<anonymous>)
            at callAsyncCircusFn (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:1497:10)
            at _callCircusTest (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:1007:40)
            at _runTest (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:947:3)
            at /Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:849:7
            at _runTestsForDescribeBlock (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:862:11)
            at _runTestsForDescribeBlock (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:857:11)
            at run (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:761:3)
            at runAndTransformResultsToJestFormat (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/jestAdapterInit.js:1918:21)
            at jestAdapter (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-circus/build/runner.js:101:19)
            at runTestInternal (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-runner/build/index.js:275:16)
            at runTest (/Users/marioalvarez/repos/conversacion/chat-booking-admin/node_modules/jest-runner/build/index.js:343:7),
        type: 'unhandled exception'
      }

      58 |         };
      59 |
    > 60 |         expect(() => render(<BuggyComponent />)).toThrow('useToast must be used within a ToastProvider');
         |                            ^
      61 |
      62 |         consoleSpy.mockRestore();
      63 |     });

      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:87:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at src/components/common/__tests__/ToastContext.test.tsx:60:28
      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)
      at Object.toThrow (src/components/common/__tests__/ToastContext.test.tsx:60:50)

PASS src/components/common/__tests__/ConfirmDialog.test.tsx
PASS src/components/__tests__/PlanGuard.test.tsx
PASS src/components/common/__tests__/UpgradeModal.test.tsx
PASS src/components/common/__tests__/PlanBadge.test.tsx
  ‚óè Console

    console.log
      üîç PlanBadge rendered with plan: LITE

      at log (src/components/common/PlanBadge.tsx:15:13)

    console.log
      üîç PlanBadge rendered with plan: PRO

      at log (src/components/common/PlanBadge.tsx:15:13)

    console.log
      üîç PlanBadge rendered with plan: BUSINESS

      at log (src/components/common/PlanBadge.tsx:15:13)

    console.log
      üîç PlanBadge rendered with plan: ENTERPRISE

      at log (src/components/common/PlanBadge.tsx:15:13)

    console.log
      üîç PlanBadge rendered with plan: PRO

      at log (src/components/common/PlanBadge.tsx:15:13)

PASS src/components/ThemeSwitcher/__tests__/ThemeSwitcher.test.tsx
PASS src/components/__tests__/AmplifyProvider.test.tsx
PASS src/hooks/__tests__/usePlanFeatures.test.ts
PASS src/repositories/__tests__/GraphQLRoomRepository.test.ts
PASS src/app/services/__tests__/page.test.tsx
PASS infra/test/infra.test.ts
----------------------------|---------|----------|---------|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
File                        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                                                                                                                                                                                                                      
----------------------------|---------|----------|---------|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
All files                   |   17.07 |    11.76 |   10.68 |   17.81 |                                                                                                                                                                                                                                                                        
 app                        |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  layout.tsx                |       0 |      100 |       0 |       0 | 2-19                                                                                                                                                                                                                                                                   
  page.tsx                  |       0 |        0 |       0 |       0 | 3-15                                                                                                                                                                                                                                                                   
 app/availability           |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  page.tsx                  |       0 |        0 |       0 |       0 | 5-610                                                                                                                                                                                                                                                                  
 app/bookings               |   22.33 |     9.52 |    5.26 |   23.88 |                                                                                                                                                                                                                                                                        
  page.tsx                  |   22.33 |     9.52 |    5.26 |   23.88 | 118-119,146-160,171-173,176-178,184-220,225-235,240-303,311,337-342,348-379,386,394-410,416,424-429,461-475,479-516,529-530,534-535,539-566,572-586,591-605,619-621,625-631,635-640,645-650,655,659-678,682-684,688-718,723-800,812-1018,1048-1053,1058-1063,1067-1781 
 app/dashboard              |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  page.tsx                  |       0 |        0 |       0 |       0 | 3-206                                                                                                                                                                                                                                                                  
 app/faqs                   |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  page.tsx                  |       0 |        0 |       0 |       0 | 4-369                                                                                                                                                                                                                                                                  
 app/knowledge              |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  page.tsx                  |       0 |        0 |       0 |       0 | 4-147                                                                                                                                                                                                                                                                  
 app/login                  |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  page.tsx                  |       0 |        0 |       0 |       0 | 3-354                                                                                                                                                                                                                                                                  
 app/onboarding             |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  page.tsx                  |       0 |        0 |       0 |       0 | 4-199                                                                                                                                                                                                                                                                  
 app/providers              |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  page.tsx                  |       0 |        0 |       0 |       0 | 3-883                                                                                                                                                                                                                                                                  
 app/register               |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  page.tsx                  |       0 |        0 |       0 |       0 | 4-159                                                                                                                                                                                                                                                                  
 app/rooms                  |   44.94 |    30.61 |   17.85 |   45.45 |                                                                                                                                                                                                                                                                        
  page.tsx                  |   44.94 |    30.61 |   17.85 |   45.45 | 78-79,90-102,106-118,122-123,127-143,148,152-159,182-193,247-381                                                                                                                                                                                                       
 app/services               |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  page.tsx                  |       0 |        0 |       0 |       0 | 3-649                                                                                                                                                                                                                                                                  
 app/settings               |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  page.tsx                  |       0 |        0 |       0 |       0 | 4-311                                                                                                                                                                                                                                                                  
 app/settings/billing       |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  page.tsx                  |       0 |        0 |       0 |       0 | 4-296                                                                                                                                                                                                                                                                  
 app/settings/components    |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  WidgetPreview.tsx         |       0 |        0 |       0 |       0 | 2-26                                                                                                                                                                                                                                                                   
 app/settings/tabs          |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  AiConfigTab.tsx           |       0 |        0 |       0 |       0 | 2-155                                                                                                                                                                                                                                                                  
  ApiKeysTab.tsx            |       0 |        0 |       0 |       0 | 2-217                                                                                                                                                                                                                                                                  
  ComplianceTab.tsx         |       0 |        0 |       0 |       0 | 4-183                                                                                                                                                                                                                                                                  
  IdentityTab.tsx           |       0 |        0 |       0 |       0 | 4-302                                                                                                                                                                                                                                                                  
  PropertiesTab.tsx         |       0 |        0 |       0 |       0 | 2-179                                                                                                                                                                                                                                                                  
 app/users                  |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  page.tsx                  |       0 |        0 |       0 |       0 | 3-481                                                                                                                                                                                                                                                                  
 app/widgets/booking        |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  page.tsx                  |       0 |        0 |       0 |       0 | 3-22                                                                                                                                                                                                                                                                   
 app/widgets/chat           |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  page.tsx                  |       0 |        0 |       0 |       0 | 3-187                                                                                                                                                                                                                                                                  
 app/workflows              |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  page.tsx                  |       0 |        0 |       0 |       0 | 5-114                                                                                                                                                                                                                                                                  
 app/workflows/detail       |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  WorkflowPageClient.tsx    |       0 |        0 |       0 |       0 | 4-280                                                                                                                                                                                                                                                                  
  page.tsx                  |       0 |        0 |       0 |       0 | 3-24                                                                                                                                                                                                                                                                   
 app/workflows/new          |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  page.tsx                  |       0 |        0 |       0 |       0 | 3-112                                                                                                                                                                                                                                                                  
 components                 |   96.69 |    84.21 |   96.77 |   97.43 |                                                                                                                                                                                                                                                                        
  AmplifyProvider.tsx       |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                                        
  LanguageSelector.tsx      |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                                        
  OperatingHoursEditor.tsx  |   96.82 |    82.35 |   95.23 |   98.33 | 191                                                                                                                                                                                                                                                                    
  PlanGuard.tsx             |   93.75 |       80 |     100 |   93.75 | 77-81                                                                                                                                                                                                                                                                  
 components/Layout          |   87.38 |    63.63 |   84.21 |   87.85 |                                                                                                                                                                                                                                                                        
  MainLayout.tsx            |   87.38 |    63.63 |   84.21 |   87.85 | 155,159,173-193                                                                                                                                                                                                                                                        
 components/ThemeRegistry   |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  EmotionCache.tsx          |       0 |        0 |       0 |       0 | 3-52                                                                                                                                                                                                                                                                   
  ThemeRegistry.tsx         |       0 |        0 |       0 |       0 | 3-123                                                                                                                                                                                                                                                                  
  theme.ts                  |       0 |      100 |     100 |       0 | 1-25                                                                                                                                                                                                                                                                   
 components/ThemeSwitcher   |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                                        
  ThemeSwitcher.tsx         |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                                        
 components/common          |   97.46 |       80 |     100 |   97.36 |                                                                                                                                                                                                                                                                        
  ConfirmDialog.tsx         |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                                        
  PlanBadge.tsx             |     100 |    85.71 |     100 |     100 | 54-55                                                                                                                                                                                                                                                                  
  ToastContext.tsx          |   95.45 |       60 |     100 |      95 | 37                                                                                                                                                                                                                                                                     
  UpgradeContent.tsx        |     100 |    88.88 |     100 |     100 | 168                                                                                                                                                                                                                                                                    
  UpgradeModal.tsx          |   95.65 |       50 |     100 |   95.65 | 47                                                                                                                                                                                                                                                                     
 components/dashboard       |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  AppCurrentVisits.tsx      |       0 |        0 |       0 |       0 | 1-78                                                                                                                                                                                                                                                                   
  AppPlanUsage.tsx          |       0 |        0 |       0 |       0 | 1-81                                                                                                                                                                                                                                                                   
  AppWebsiteVisits.tsx      |       0 |        0 |       0 |       0 | 1-47                                                                                                                                                                                                                                                                   
  AppWidgetSummary.tsx      |       0 |        0 |       0 |       0 | 1-33                                                                                                                                                                                                                                                                   
  FunnelChart.tsx           |       0 |        0 |       0 |       0 | 1-31                                                                                                                                                                                                                                                                   
  PeakHoursHeatmap.tsx      |       0 |        0 |       0 |       0 | 1-47                                                                                                                                                                                                                                                                   
 components/integrations    |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  GoogleCalendarCard.tsx    |       0 |        0 |       0 |       0 | 1-51                                                                                                                                                                                                                                                                   
  MicrosoftCalendarCard.tsx |       0 |        0 |       0 |       0 | 1-36                                                                                                                                                                                                                                                                   
 components/ui              |     100 |       75 |     100 |     100 |                                                                                                                                                                                                                                                                        
  PremiumButton.tsx         |     100 |       75 |     100 |     100 | 10                                                                                                                                                                                                                                                                     
 components/workflow        |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  PropertiesPanel.tsx       |       0 |        0 |       0 |       0 | 2-157                                                                                                                                                                                                                                                                  
  Sidebar.tsx               |       0 |        0 |       0 |       0 | 1-140                                                                                                                                                                                                                                                                  
  WorkflowEditor.tsx        |       0 |        0 |       0 |       0 | 3-145                                                                                                                                                                                                                                                                  
 components/workflow/nodes  |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  DecisionNode.tsx          |       0 |        0 |       0 |       0 | 1-12                                                                                                                                                                                                                                                                   
  DynamicOptionsNode.tsx    |       0 |        0 |       0 |       0 | 1-14                                                                                                                                                                                                                                                                   
  MessageNode.tsx           |       0 |        0 |       0 |       0 | 1-12                                                                                                                                                                                                                                                                   
  StartNode.tsx             |       0 |      100 |       0 |       0 | 1-5                                                                                                                                                                                                                                                                    
  ToolNode.tsx              |       0 |        0 |       0 |       0 | 1-12                                                                                                                                                                                                                                                                   
 context                    |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  TenantContext.tsx         |       0 |        0 |       0 |       0 | 3-95                                                                                                                                                                                                                                                                   
  ThemeContext.tsx          |       0 |        0 |       0 |       0 | 3-42                                                                                                                                                                                                                                                                   
 graphql                    |   46.49 |      100 |     100 |   82.45 |                                                                                                                                                                                                                                                                        
  billing-queries.ts        |       0 |      100 |     100 |       0 | 2-16                                                                                                                                                                                                                                                                   
  queries.ts                |   56.38 |      100 |     100 |     100 |                                                                                                                                                                                                                                                                        
  user-queries.ts           |       0 |      100 |     100 |       0 | 3-80                                                                                                                                                                                                                                                                   
 hooks                      |   16.92 |    72.22 |   11.11 |   17.46 |                                                                                                                                                                                                                                                                        
  useDashboardMetrics.ts    |       0 |        0 |       0 |       0 | 3-199                                                                                                                                                                                                                                                                  
  usePlanFeatures.ts        |     100 |    92.85 |     100 |     100 | 28                                                                                                                                                                                                                                                                     
 i18n                       |       0 |      100 |       0 |       0 |                                                                                                                                                                                                                                                                        
  request.ts                |       0 |      100 |       0 |       0 | 1-5                                                                                                                                                                                                                                                                    
 providers                  |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  LocaleProvider.tsx        |       0 |        0 |       0 |       0 | 3-77                                                                                                                                                                                                                                                                   
 repositories               |     100 |       75 |     100 |     100 |                                                                                                                                                                                                                                                                        
  GraphQLRoomRepository.ts  |     100 |       75 |     100 |     100 | 16,38-39,75-76                                                                                                                                                                                                                                                         
 theme                      |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                                        
  palettes.ts               |     100 |      100 |     100 |     100 |                                                                                                                                                                                                                                                                        
 utils                      |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                        
  navigation.ts             |       0 |        0 |       0 |       0 | 1-11                                                                                                                                                                                                                                                                   
----------------------------|---------|----------|---------|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Jest: "global" coverage threshold for statements (80%) not met: 17.07%
Jest: "global" coverage threshold for branches (80%) not met: 11.76%
Jest: "global" coverage threshold for lines (80%) not met: 17.81%
Jest: "global" coverage threshold for functions (80%) not met: 10.68%

Test Suites: 17 passed, 17 total
Tests:       5 skipped, 82 passed, 87 total
Snapshots:   0 total
Time:        4.631 s
Ran all test suites.
